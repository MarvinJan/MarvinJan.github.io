var _createClass=function(){function t(a,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(a,n,e){return n&&t(a.prototype,n),e&&t(a,e),a}}();function _toConsumableArray(a){if(Array.isArray(a)){for(var n=0,e=Array(a.length);n<a.length;n++)e[n]=a[n];return e}return Array.from(a)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}var InsertBlock=function(){function i(a){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{position:null,repeat:null,animate:{},block_params:{}};_classCallCheck(this,i);var e=n.position||"beforeEnd",t=document.querySelector(a),r=n.animate,o=this.formBlock(n.block_params);o.querySelector("img")?this.images_are_loaded(o).then(function(){return t.insertAdjacentElement(e,o)}):t.insertAdjacentElement(e,o),this.animation(o,r.animation,r.time)}return _createClass(i,[{key:"formBlock",value:function(a){var n,e=this,t=a.tag||"div",r=a.classes||null,o=a.innerHTML||null,i=a.children||null,c=document.createElement(t);o&&"string"==typeof o&&o&&(c.innerHTML=o),r&&(Array.isArray(r)?(n=c.classList).add.apply(n,_toConsumableArray(r)):console.log("%c Error: block_params.classes must be an array","color: #a00"));return i&&Array.isArray(i)?i.forEach(function(a){c.insertAdjacentElement(a.position||"beforeEnd",e.formBlock(a))}):i&&!Array.isArray(i)&&console.log("%c Error: block_params.children must be an array","color: #b00; font-weight: bold"),c}},{key:"animation",value:function(n,a,e){var t=a||"fade-in",r=(e||200)/1e3*60,o=[],i=[],c="";switch(t){case"fade-in":o=[{key:"opacity:",value:0,concatination:";"}],i=[{key:"opacity:",value:1,concatination:";"}];break;case"slide-right":o=[{key:"opacity:",value:0,concatination:";"},{key:"transform: translateX(",value:-50,concatination:"%);"}],i=[{key:"opacity:",value:1,concatination:";"},{key:"transform: translateX(",value:0,concatination:"%);"}];break;case"slide-left":o=[{key:"opacity:",value:0,concatination:";"},{key:"transform: translateX(",value:50,concatination:"%);"}],i=[{key:"opacity:",value:1,concatination:";"},{key:"transform: translateX(",value:0,concatination:"%);"}];break;case"slide-up":o=[{key:"opacity:",value:0,concatination:";"},{key:"transform: translateY(",value:50,concatination:"%);"}],i=[{key:"opacity:",value:1,concatination:";"},{key:"transform: translateY(",value:0,concatination:"%);"}];break;case"slide-down":o=[{key:"opacity:",value:0,concatination:";"},{key:"transform: translateY(",value:-50,concatination:"%);"}],i=[{key:"opacity:",value:1,concatination:";"},{key:"transform: translateY(",value:0,concatination:"%);"}]}var l=o.map(function(a){return Object.assign({},a)});return function a(){c="",l.forEach(function(a,n){c+=""+a.key+a.value+a.concatination,a.value+=(i[n].value-o[n].value)/r}),n.setAttribute("style",c),l[0].value<=i[0].value?requestAnimationFrame(a):(c="",i.forEach(function(a){c+=""+a.key+a.value+a.concatination}),n.setAttribute("style",c))}()}},{key:"images_are_loaded",value:function(a){return new Promise(function(n,e){var t=a.querySelectorAll("img"),r=[];t.forEach(function(a){a.onload=function(){return r.push(!0),r.length===t.length?n("done"):e("reject")}})})}}]),i}();